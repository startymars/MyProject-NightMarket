import{H as k,F as N,c as f}from"./FooterView-cdf2e018.js";import{bs as I,br as A,bt as E,aG as n,at as u,p,y as a,q as e,bk as v,F as g,aE as F,aU as i,w as U,x as y,ad as _,bm as C,bb as O,ax as D,au as H}from"./index-06babca6.js";import"./_commonjsHelpers-87174ba5.js";const{VITE_APP_URL:V,VITE_APP_PATH:w}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"cream21",BASE_URL:"/MyProject-NightMarket/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},j={data(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""}}},components:{HeaderNav:k,FooterView:N},computed:{...A(f,["carts"])},methods:{...E(f,["getCarts"]),onSubmit(){console.log(this.form)},isPhone(o){return/^(09)[0-9]{8}$/.test(o)?!0:"需為正確的手機號碼格式"},getCarts(){this.$http.get(`${V}/v2/api/${w}/cart`).then(o=>{console.log("233取得購物車列表",o.data.data),this.carts=o.data.data,console.log("999有被存入",this.carts)}).catch(o=>{alert(o.response.data)})},createOrder(){const o=this.form;this.$http.post(`${V}/v2/api/${w}/order`,{data:o}).then(s=>{alert(s.data.message),this.$refs.form.resetForm(),this.form.message="",this.getCarts();const b=s.data.orderId;this.$router.push(`/OrdersFinish/${b}`)}).catch(s=>{console.log(s.data)})}},mounted(){this.getCarts()}},t=o=>(D("data-v-b6c50cd2"),o=o(),H(),o),B=t(()=>e("div",{class:"newBanner d-flex justify-content-center align-items-center"},[e("div",{class:"newsTitle"},"訂單資訊")],-1)),M={class:"bg-secondary"},R={class:"container"},q=U('<nav aria-label="breadcrumb" class="pt-5 pb-5" data-v-b6c50cd2><ol class="breadcrumb" data-v-b6c50cd2><li class="breadcrumb-item" data-v-b6c50cd2><a href="#" data-v-b6c50cd2>首頁</a></li><li class="breadcrumb-item active" aria-current="page" data-v-b6c50cd2>訂單資訊</li></ol></nav>',1),L={class:"row"},$={class:"col-lg-8 mb-4"},z=t(()=>e("h4",null,"訂單資訊",-1)),G=t(()=>e("hr",null,null,-1)),J={class:"row"},K={class:"mb-3 col-6"},Q=t(()=>e("label",{for:"name",class:"form-label"},"收件人姓名",-1)),W={class:"mb-3 col-6"},X=t(()=>e("label",{for:"tel",class:"form-label"},"收件人電話",-1)),Y={class:"mb-3"},Z=t(()=>e("label",{for:"email",class:"form-label"},"信箱",-1)),ee={class:"mb-3"},se=t(()=>e("label",{for:"emaaddressil",class:"form-label"},"地址",-1)),te=t(()=>e("div",{class:"mb-3"},[e("label",{for:"pay",class:"form-label"},"付款方式"),e("select",{class:"form-select","aria-label":"pay"},[e("option",{disabled:"",selected:""},"請選擇付款方式"),e("option",{value:"1"},"貨到付款"),e("option",{value:"2"},"信用卡付款"),e("option",{value:"3"},"ATM轉帳")])],-1)),oe={class:"mb-3"},ae=t(()=>e("label",{for:"message",class:"form-label"},"備註",-1)),le={class:"row"},ce={class:"col-6 mb-3"},re=t(()=>e("button",{type:"button",class:"btn btn-outline-primary"}," 回上一頁 ",-1)),ne=t(()=>e("div",{class:"col-6 mb-3"},[e("button",{type:"submit",class:"btn btn-primary"},"結帳")],-1)),ie={class:"col-lg-4 mb-4"},de={class:"bg-primary p-4"},me=t(()=>e("h4",null,"你的訂單",-1)),_e=t(()=>e("hr",null,null,-1)),ue={class:"payDetai p-0"},pe=t(()=>e("div",{class:"d-flex justify-content-between mb-4"},[e("h6",{class:"payTitle"},"商品"),e("h6",{class:"payTotal"},"總計")],-1)),be={class:"payNumber"},he={class:"payItem"},fe={class:"payPrice"},ve=t(()=>e("hr",null,null,-1)),ge={class:"payFinalTotal d-flex justify-content-between mb-4"},ye=t(()=>e("h5",null,"總計",-1)),Ve={class:"fw-bold"};function we(o,s,b,xe,c,h){const x=n("HeaderNav"),d=n("v-field"),m=n("error-message"),P=n("router-link"),T=n("v-form"),S=n("FooterView");return u(),p(g,null,[a(x,{class:"bg-black position-static"}),B,e("div",M,[e("div",R,[q,e("div",L,[e("div",$,[z,G,a(T,{ref:"form",onSubmit:h.createOrder},{default:v(({errors:r})=>[y(i(r)+" ",1),e("div",J,[e("div",K,[Q,a(d,{id:"name",name:"name",type:"text",class:_(["form-control",{"is-invalid":r.姓名}]),rules:"required",modelValue:c.form.user.name,"onUpdate:modelValue":s[0]||(s[0]=l=>c.form.user.name=l),placeholder:"請輸入您的姓名"},null,8,["class","modelValue"]),a(m,{name:"姓名",class:"invalid-feedback"})]),e("div",W,[X,a(d,{id:"tel",name:"phone",type:"text",class:_(["form-control",{"is-invalid":r.電話}]),rules:h.isPhone,modelValue:c.form.user.tel,"onUpdate:modelValue":s[1]||(s[1]=l=>c.form.user.tel=l),placeholder:"請輸入您的電話"},null,8,["class","rules","modelValue"]),a(m,{name:"電話",class:"invalid-feedback"})]),e("div",Y,[Z,a(d,{id:"email",name:"email",type:"email",class:_(["form-control",{"is-invalid":r.email}]),rules:"email|required",modelValue:c.form.user.email,"onUpdate:modelValue":s[2]||(s[2]=l=>c.form.user.email=l),placeholder:"請輸入您的信箱"},null,8,["class","modelValue"]),a(m,{name:"email",class:"invalid-feedback"})]),e("div",ee,[se,a(d,{id:"address",name:"address",type:"text",class:_(["form-control",{"is-invalid":r.地址}]),placeholder:"請輸入您的地址",rules:"required",modelValue:c.form.user.address,"onUpdate:modelValue":s[3]||(s[3]=l=>c.form.user.address=l)},null,8,["class","modelValue"]),a(m,{name:"地址",class:"invalid-feedback"})]),te,e("div",oe,[ae,C(e("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":s[4]||(s[4]=l=>c.form.message=l)},null,512),[[O,c.form.message]])])]),e("div",le,[e("div",ce,[a(P,{to:"/Cart"},{default:v(()=>[re]),_:1})]),ne])]),_:1},8,["onSubmit"])]),e("div",ie,[e("div",de,[me,_e,e("div",ue,[pe,(u(!0),p(g,null,F(o.carts.carts,(r,l)=>(u(),p("ul",{class:"d-flex justify-content-between p-0 mb-4",key:r.id},[e("li",be,[y(i(l+1)+" ",1),e("span",he,i(r.product.title),1)]),e("li",fe,"NT$"+i(r.product.price),1)]))),128))]),ve,e("div",ge,[ye,e("div",Ve,"$"+i(o.carts.final_total),1)])])])])])]),a(S)],64)}const ke=I(j,[["render",we],["__scopeId","data-v-b6c50cd2"]]);export{ke as default};
