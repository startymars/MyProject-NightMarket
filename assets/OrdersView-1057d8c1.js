import{H as k,F as N,c as f}from"./FooterView-19139259.js";import{bs as I,br as A,bt as E,aG as c,at as u,p,y as o,q as e,bk as v,F as y,aE as F,aU as i,w as U,x as g,ad as _,bm as C,bb as O,ax as D,au as H}from"./index-39dbbeaa.js";import"./_commonjsHelpers-87174ba5.js";const{VITE_APP_URL:V,VITE_APP_PATH:w}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"cream21",BASE_URL:"/MyProject-NightMarket/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},j={data(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""}}},components:{HeaderNav:k,FooterView:N},computed:{...A(f,["carts"])},methods:{...E(f,["getCarts"]),onSubmit(){console.log(this.form)},isPhone(t){return/^(09)[0-9]{8}$/.test(t)?!0:"需為正確的手機號碼格式"},getCarts(){this.$http.get(`${V}/v2/api/${w}/cart`).then(t=>{this.carts=t.data.data}).catch(t=>{alert(t.response.data)})},createOrder(){const t=this.form;this.$http.post(`${V}/v2/api/${w}/order`,{data:t}).then(s=>{alert(s.data.message),this.$refs.form.resetForm(),this.form.message="",this.getCarts();const h=s.data.orderId;this.$router.push(`/OrdersFinish/${h}`)}).catch(s=>{console.log(s.data)})}},mounted(){this.getCarts()}},a=t=>(D("data-v-dca5e0aa"),t=t(),H(),t),B=a(()=>e("div",{class:"newBanner d-flex justify-content-center align-items-center"},[e("div",{class:"newsTitle"},"訂單資訊")],-1)),M={class:"bg-secondary"},R={class:"container"},q=U('<nav aria-label="breadcrumb" class="pt-5 pb-5" data-v-dca5e0aa><ol class="breadcrumb" data-v-dca5e0aa><li class="breadcrumb-item" data-v-dca5e0aa><a href="#" data-v-dca5e0aa>首頁</a></li><li class="breadcrumb-item active" aria-current="page" data-v-dca5e0aa>訂單資訊</li></ol></nav>',1),L={class:"row"},$={class:"col-lg-8 mb-4"},z=a(()=>e("h4",null,"訂單資訊",-1)),G=a(()=>e("hr",null,null,-1)),J={class:"row"},K={class:"mb-3 col-6"},Q=a(()=>e("label",{for:"name",class:"form-label"},"收件人姓名",-1)),W={class:"mb-3 col-6"},X=a(()=>e("label",{for:"tel",class:"form-label"},"收件人電話",-1)),Y={class:"mb-3"},Z=a(()=>e("label",{for:"email",class:"form-label"},"信箱",-1)),ee={class:"mb-3"},se=a(()=>e("label",{for:"emaaddressil",class:"form-label"},"地址",-1)),ae=a(()=>e("div",{class:"mb-3"},[e("label",{for:"pay",class:"form-label"},"付款方式"),e("select",{class:"form-select","aria-label":"pay"},[e("option",{disabled:"",selected:""},"請選擇付款方式"),e("option",{value:"1"},"貨到付款"),e("option",{value:"2"},"信用卡付款"),e("option",{value:"3"},"ATM轉帳")])],-1)),te={class:"mb-3"},oe=a(()=>e("label",{for:"message",class:"form-label"},"備註",-1)),le={class:"row"},re={class:"col-6 mb-3"},ne=a(()=>e("button",{type:"button",class:"btn btn-outline-primary"}," 回上一頁 ",-1)),ce=a(()=>e("div",{class:"col-6 mb-3"},[e("button",{type:"submit",class:"btn btn-primary"},"結帳")],-1)),ie={class:"col-lg-4 mb-4"},de={class:"bg-primary p-4"},me=a(()=>e("h4",null,"你的訂單",-1)),_e=a(()=>e("hr",null,null,-1)),ue={class:"payDetai p-0"},pe=a(()=>e("div",{class:"d-flex justify-content-between mb-4"},[e("h6",{class:"payTitle"},"商品"),e("h6",{class:"payTotal"},"總計")],-1)),he={class:"payNumber"},be={class:"payItem"},fe={class:"payPrice"},ve=a(()=>e("hr",null,null,-1)),ye={class:"payFinalTotal d-flex justify-content-between mb-4"},ge=a(()=>e("h5",null,"總計",-1)),Ve={class:"fw-bold"};function we(t,s,h,xe,r,b){const x=c("HeaderNav"),d=c("v-field"),m=c("error-message"),P=c("router-link"),T=c("v-form"),S=c("FooterView");return u(),p(y,null,[o(x,{class:"bg-black position-static"}),B,e("div",M,[e("div",R,[q,e("div",L,[e("div",$,[z,G,o(T,{ref:"form",onSubmit:b.createOrder},{default:v(({errors:n})=>[g(i(n)+" ",1),e("div",J,[e("div",K,[Q,o(d,{id:"name",name:"name",type:"text",class:_(["form-control",{"is-invalid":n.姓名}]),rules:"required",modelValue:r.form.user.name,"onUpdate:modelValue":s[0]||(s[0]=l=>r.form.user.name=l),placeholder:"請輸入您的姓名"},null,8,["class","modelValue"]),o(m,{name:"姓名",class:"invalid-feedback"})]),e("div",W,[X,o(d,{id:"tel",name:"phone",type:"text",class:_(["form-control",{"is-invalid":n.電話}]),rules:b.isPhone,modelValue:r.form.user.tel,"onUpdate:modelValue":s[1]||(s[1]=l=>r.form.user.tel=l),placeholder:"請輸入您的電話"},null,8,["class","rules","modelValue"]),o(m,{name:"電話",class:"invalid-feedback"})]),e("div",Y,[Z,o(d,{id:"email",name:"email",type:"email",class:_(["form-control",{"is-invalid":n.email}]),rules:"email|required",modelValue:r.form.user.email,"onUpdate:modelValue":s[2]||(s[2]=l=>r.form.user.email=l),placeholder:"請輸入您的信箱"},null,8,["class","modelValue"]),o(m,{name:"email",class:"invalid-feedback"})]),e("div",ee,[se,o(d,{id:"address",name:"address",type:"text",class:_(["form-control",{"is-invalid":n.地址}]),placeholder:"請輸入您的地址",rules:"required",modelValue:r.form.user.address,"onUpdate:modelValue":s[3]||(s[3]=l=>r.form.user.address=l)},null,8,["class","modelValue"]),o(m,{name:"地址",class:"invalid-feedback"})]),ae,e("div",te,[oe,C(e("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":s[4]||(s[4]=l=>r.form.message=l)},null,512),[[O,r.form.message]])])]),e("div",le,[e("div",re,[o(P,{to:"/Cart"},{default:v(()=>[ne]),_:1})]),ce])]),_:1},8,["onSubmit"])]),e("div",ie,[e("div",de,[me,_e,e("div",ue,[pe,(u(!0),p(y,null,F(t.carts.carts,(n,l)=>(u(),p("ul",{class:"d-flex justify-content-between p-0 mb-4",key:n.id},[e("li",he,[g(i(l+1)+" ",1),e("span",be,i(n.product.title),1)]),e("li",fe,"NT$"+i(n.product.price),1)]))),128))]),ve,e("div",ye,[ge,e("div",Ve,"$"+i(t.carts.final_total),1)])])])])])]),o(S)],64)}const ke=I(j,[["render",we],["__scopeId","data-v-dca5e0aa"]]);export{ke as default};
