import{H as S,F as k,c as f}from"./FooterView-f0d4aed6.js";import{_ as N,m as I,h as A,a as c,o as u,d as p,i as a,f as e,w as v,F as g,j as F,t as m,k as C,s as _,q as E,H as U,n as H,p as O,e as j}from"./index-5f84bd89.js";const{VITE_APP_URL:y,VITE_APP_PATH:V}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"cream21",BASE_URL:"/MyProject-NightMarket/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},D={data(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""}}},components:{HeaderNav:S,FooterView:k},computed:{...I(f,["carts"])},methods:{...A(f,["getCarts"]),onSubmit(){console.log(this.form)},isPhone(o){return/^(09)[0-9]{8}$/.test(o)?!0:"需為正確的手機號碼格式"},getCarts(){this.$http.get(`${y}/v2/api/${V}/cart`).then(o=>{this.carts=o.data.data}).catch(o=>{alert(o.response.data)})},createOrder(){const o=this.form;this.$http.post(`${y}/v2/api/${V}/order`,{data:o}).then(s=>{alert(s.data.message),this.$refs.form.resetForm(),this.form.message="",this.getCarts();const h=s.data.orderId;this.$router.push(`/OrdersFinish/${h}`)}).catch(s=>{console.log(s.data)})}},mounted(){this.getCarts()}},t=o=>(O("data-v-1d8bc581"),o=o(),j(),o),B=t(()=>e("div",{class:"newBanner d-flex justify-content-center align-items-center"},[e("div",{class:"newsTitle"},"訂單資訊")],-1)),M={class:"bg-secondary"},R={class:"container"},q=C('<nav aria-label="breadcrumb" class="pt-5 pb-5" data-v-1d8bc581><ol class="breadcrumb" data-v-1d8bc581><li class="breadcrumb-item" data-v-1d8bc581><a href="#" data-v-1d8bc581>首頁</a></li><li class="breadcrumb-item active" aria-current="page" data-v-1d8bc581>訂單資訊</li></ol></nav>',1),L={class:"row"},$={class:"col-lg-8 mb-4"},z=t(()=>e("h4",null,"訂單資訊",-1)),G=t(()=>e("hr",null,null,-1)),J={class:"row"},K={class:"mb-3 col-6"},Q=t(()=>e("label",{for:"name",class:"form-label"},"收件人姓名",-1)),W={class:"mb-3 col-6"},X=t(()=>e("label",{for:"tel",class:"form-label"},"收件人電話",-1)),Y={class:"mb-3"},Z=t(()=>e("label",{for:"email",class:"form-label"},"信箱",-1)),ee={class:"mb-3"},se=t(()=>e("label",{for:"emaaddressil",class:"form-label"},"地址",-1)),te=t(()=>e("div",{class:"mb-3"},[e("label",{for:"pay",class:"form-label"},"付款方式"),e("select",{class:"form-select","aria-label":"pay"},[e("option",{disabled:"",selected:""},"請選擇付款方式"),e("option",{value:"1"},"貨到付款"),e("option",{value:"2"},"信用卡付款"),e("option",{value:"3"},"ATM轉帳")])],-1)),oe={class:"mb-3"},ae=t(()=>e("label",{for:"message",class:"form-label"},"備註",-1)),le={class:"row"},re={class:"col-6 mb-3"},ne=t(()=>e("button",{type:"button",class:"btn btn-outline-primary"}," 回上一頁 ",-1)),ce=t(()=>e("div",{class:"col-6 mb-3"},[e("button",{type:"submit",class:"btn btn-primary"},"結帳")],-1)),ie={class:"col-lg-4 mb-4"},de={class:"bg-white p-4"},me=t(()=>e("h4",null,"你的訂單",-1)),_e=t(()=>e("hr",null,null,-1)),ue={class:"payDetai p-0"},pe=t(()=>e("div",{class:"d-flex justify-content-between mb-4"},[e("h6",{class:"payTitle"},"商品"),e("h6",{class:"payTotal"},"總計")],-1)),he={class:"payNumber"},be={class:"payItem"},fe={class:"payPrice"},ve=t(()=>e("hr",null,null,-1)),ge={class:"payFinalTotal d-flex justify-content-between mb-4"},ye=t(()=>e("h5",null,"總計",-1)),Ve={class:"fw-bold"};function we(o,s,h,Pe,r,b){const w=c("HeaderNav"),i=c("v-field"),d=c("error-message"),P=c("router-link"),x=c("v-form"),T=c("FooterView");return u(),p(g,null,[a(w,{class:"bg-black position-static"}),B,e("div",M,[e("div",R,[q,e("div",L,[e("div",$,[z,G,a(x,{ref:"form",onSubmit:b.createOrder},{default:v(({errors:n})=>[e("div",J,[e("div",K,[Q,a(i,{id:"name",name:"name",type:"text",class:_(["form-control",{"is-invalid":n.姓名}]),rules:"required",modelValue:r.form.user.name,"onUpdate:modelValue":s[0]||(s[0]=l=>r.form.user.name=l),placeholder:"請輸入您的姓名"},null,8,["class","modelValue"]),a(d,{name:"姓名",class:"invalid-feedback"})]),e("div",W,[X,a(i,{id:"tel",name:"phone",type:"text",class:_(["form-control",{"is-invalid":n.電話}]),rules:b.isPhone,modelValue:r.form.user.tel,"onUpdate:modelValue":s[1]||(s[1]=l=>r.form.user.tel=l),placeholder:"請輸入您的電話"},null,8,["class","rules","modelValue"]),a(d,{name:"電話",class:"invalid-feedback"})]),e("div",Y,[Z,a(i,{id:"email",name:"email",type:"email",class:_(["form-control",{"is-invalid":n.email}]),rules:"email|required",modelValue:r.form.user.email,"onUpdate:modelValue":s[2]||(s[2]=l=>r.form.user.email=l),placeholder:"請輸入您的信箱"},null,8,["class","modelValue"]),a(d,{name:"email",class:"invalid-feedback"})]),e("div",ee,[se,a(i,{id:"address",name:"address",type:"text",class:_(["form-control",{"is-invalid":n.地址}]),placeholder:"請輸入您的地址",rules:"required",modelValue:r.form.user.address,"onUpdate:modelValue":s[3]||(s[3]=l=>r.form.user.address=l)},null,8,["class","modelValue"]),a(d,{name:"地址",class:"invalid-feedback"})]),te,e("div",oe,[ae,E(e("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":s[4]||(s[4]=l=>r.form.message=l)},null,512),[[U,r.form.message]])])]),e("div",le,[e("div",re,[a(P,{to:"/Cart"},{default:v(()=>[ne]),_:1})]),ce])]),_:1},8,["onSubmit"])]),e("div",ie,[e("div",de,[me,_e,e("div",ue,[pe,(u(!0),p(g,null,F(o.carts.carts,(n,l)=>(u(),p("ul",{class:"d-flex justify-content-between p-0 mb-4",key:n.id},[e("li",he,[H(m(l+1)+" ",1),e("span",be,m(n.product.title),1)]),e("li",fe,"NT$"+m(n.product.price),1)]))),128))]),ve,e("div",ge,[ye,e("div",Ve,"$"+m(o.carts.final_total),1)])])])])])]),a(T)],64)}const Se=N(D,[["render",we],["__scopeId","data-v-1d8bc581"]]);export{Se as default};
