import{bu as r,bv as i}from"./index-20e1bf27.js";import{S as o}from"./FooterView-6fa483ec.js";const{VITE_APP_URL:a,VITE_APP_PATH:n}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"cream21",BASE_URL:"/MyProject-NightMarket/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},l=r("productStore",{state:()=>({products:[],favorites:[],isLoading:!1}),actions:{getProducts(){this.isLoading=!0,i.get(`${a}/v2/api/${n}/products/all`).then(t=>{console.log("有取得商品",t.data),this.isLoading=!1,this.products=t.data.products}).catch(t=>{alert(t.response.data)})},favoriteProducts(t){this.favorites.push({image:t.imageUrl,title:t.title,content:t.content,price:t.price,id:t.id}),o.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",o.stopTimer),e.addEventListener("mouseleave",o.resumeTimer)}}).fire({icon:"success",title:"已加入收藏"}),console.log(this.favorites)},deleteFavoriteProducts(t){const s=this.favorites.filter(e=>e.id!==t.id);this.favorites=s,console.log(this.favorites)}},getters:{}});export{l as p};
